<% include layout/navbar %>

<style>
    .table-wrapper-scroll-y {
        display: block;
        max-height: 500px;
        overflow-y: auto;
        -ms-overflow-style: -ms-autohiding-scrollbar;
    }
</style>

<div style="padding: 0 50px 50px 50px">
    <h1>
        後台
    </h1>
    <hr>

    <h4>學生</h4>
    <div class="table-wrapper-scroll-y">
        <table id="dtHorizontalExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>username</th>
                    <th>password</th>
                    <th>name</th>
                    <th>email</th>
                    <th>schoolname</th>
                    <th>department</th>
                    <th>studentid</th>
                    <th>userInfo</th>
                </tr>
            </thead>
            <tbody>
                <%users.forEach(function(user){%>
                <%if(user.permission=="student"){%>
                <tr>
                    <td>
                        <%=user.username%>
                    </td>
                    <td>
                        <%=user.password%>
                    </td>
                    <td>
                        <%=user.name%>
                    </td>
                    <td>
                        <%=user.email%>
                    </td>
                    <td>
                        <%=user.schoolname%>
                    </td>
                    <td>
                        <%=user.department%>
                    </td>
                    <td>
                        <%=user.studentid%>
                    </td>
                    <td>
                        <%=user.userInfo%>
                    </td>

                </tr>
                <%}%>
                <%})%>
            </tbody>
        </table>
    </div>


    <h4>老師</h4>
    <div class="table-wrapper-scroll-y">
        <table id="dtHorizontalExample2" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>username</th>
                    <th>password</th>
                    <th>name</th>
                    <th>email</th>
                </tr>
            </thead>
            <tbody>
                <%users.forEach(function(user){%>
                <%if(user.permission=="teacher"){%>
                <tr>
                    <td>
                        <%=user.username%>
                    </td>
                    <td>
                        <%=user.password%>
                    </td>
                    <td>
                        <%=user.name%>
                    </td>
                    <td>
                        <%=user.email%>
                    </td>
                </tr>
                <%}%>
                <%})%>
            </tbody>
        </table>
    </div>

    <h4>課程</h4>
    <div class="table-wrapper-scroll-y">
        <table id="dtHorizontalExample2" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th style="width: 20%">課程編號</th>
                    <th style="width: 10%">課程名稱</th>
                    <th style="width: 10%">學分數</th>
                    <th style="width: 10%">上課時間</th>
                    <th style="width: 10%">上課教室</th>
                    <th style="width: 40%">課程簡介</th>
                    <th style="width: 10%">所屬的老師</th>

                </tr>
            </thead>
            <tbody>
                <%classes.forEach(function(classinfo){%>
                <tr>
                    <td>
                        <%=classinfo._id%>
                    </td>
                    <td>
                        <%=classinfo.className%>
                    </td>
                    <td>
                        <%=classinfo.credit%>
                    </td>
                    <td>
                        <%=classinfo.classTime%>
                    </td>
                    <td>
                        <%=classinfo.classRoom%>
                    </td>
                    <td>
                        <%=classinfo.outline%>
                    </td>
                    <td>
                        <%=classinfo.teacher%>
                    </td>
                </tr>

                <%})%>
            </tbody>
        </table>
    </div>


    <h4>單元</h4>
    <div class="table-wrapper-scroll-y">
        <table id="dtHorizontalExample2" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>單元編號</th>
                    <th>單元名稱</th>
                    <th>所屬課程</th>
                </tr>
            </thead>
            <tbody>
                <%units.forEach(function(unit){%>
                <tr>
                    <td>
                        <%=unit._id%>
                    </td>
                    <td>
                        <%=unit.unitName%>
                    </td>
                    <td>
                        <%=unit.belongClass%>
                    </td>
                </tr>
                <%})%>
            </tbody>
        </table>
    </div>

    <h4>教材</h4>
    <div class="table-wrapper-scroll-y">
        <table id="dtHorizontalExample2" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th style="width: 20%">教材編號</th>
                    <th style="width: 10%">教材名稱</th>
                    <th style="width: 50%">教材內容</th>
                    <th style="width: 20%">所屬單元</th>

                </tr>
            </thead>
            <tbody>
                <%chapters.forEach(function(chapter){%>
                <tr>
                    <td>
                        <%=chapter._id%>
                    </td>
                    <td>
                        <%=chapter.chapterName%>
                    </td>
                    <td>
                        <%=chapter.body%>
                    </td>
                    <td>
                        <%=chapter.belongUnit%>
                    </td>
                </tr>
                <%})%>
            </tbody>
        </table>
    </div>


    <h4>課程影片</h4>
    <div class="table-wrapper-scroll-y">
        <table id="dtHorizontalExample2" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th style="width: 20%">課程影片編號</th>
                    <th style="width: 10%">影片網址</th>
                    <th style="width: 40%">影片名稱</th>
                    <th style="width: 10%">影片時間</th>
                    <th style="width: 20%">所屬單元</th>

                </tr>
            </thead>
            <tbody>
                <%videos.forEach(function(video){%>
                <tr onclick="showVideoBehavior('<%=video._id%>')">
                    <td>
                        <%=video._id%>
                    </td>
                    <td>
                        <%=video.videoURL%>
                    </td>
                    <td>
                        <%=video.videoName%>
                    </td>
                    <td>
                        <%=video.vtime%>
                    </td>
                    <td>
                        <%=video.belongUnit%>
                    </td>
                </tr>
                <%})%>
            </tbody>
        </table>
    </div>
</div>
<script>
    function showVideoBehavior(id) {
        window.location = "/backend/videoBehavior/" + id;
    }
</script>

<% include layout/footer %>