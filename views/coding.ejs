<% include layout/header %>
<style>
    .Category {
        display: flex;
        justify-content: space-between;
    }

    .noHoverStyle:hover {
        outline: none;
        text-shadow: none;
    }

    .noHoverStyle {
        outline: none;
        text-shadow: none;
        border: 1px rgb(104, 103, 103) solid;
        padding: 0 .8em
    }
</style>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<div class="row">
    <div class="col-9">
        <section style="width: 100%;height: auto%;background: #ccc">
            <img src="/img/程式區招牌.png" class="img-fluid">
        </section>
        <div style="margin-top: 2em;">
            <h5>分類</h5>
            <div class="Category mb-5">
                <button class="btn btn-primary" style="width: 10em;height: 5em;">演算法</button>
                <button class="btn btn-secondary" style="width: 10em;height: 5em;">資料結構</button>
                <button class="btn btn-success" style="width: 10em;height: 5em;">圖形理論</button>
                <button class="btn btn-info" style="width: 10em;height: 5em;">組合優化</button>
                <button class="btn"
                    style="width: 10em;height: 5em;background: rgb(71, 189, 134);color: white">動態規劃</button>
            </div>
            <div class="mb-2" style="display: flex">
                <input type="text" style="flex: 8">
                <input type="submit" class="btn btn-primary" value="搜尋" style="flex: 1;margin-left: 1rem">
                <a href="/coding/createNewCodingQution" class="btn btn-success"
                    style="flex: 1;margin-left: 1rem">新增題目</a>
            </div>
            <div class="topic">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col" style="width: 3%;"></th>
                            <th scope="col">#</th>
                            <th scope="col" style="width: 63%;">題目</th>
                            <th scope="col">正確率</th>
                            <th scope="col">難易度</th>
                        </tr>
                    </thead>
                    <tbody>
                        <%for(let i = 0;i<qutions.length;i++){%>
                        <tr>
                            <th scope="row">
                                <%if(qutions[i].isWritten == "Right"){%>
                                <i class="fas fa-check" style="color: rgb(82, 164, 81)"></i>
                                <%}%>
                                <%if(qutions[i].isWritten == "Wrong"){%>
                                <i class="fas fa-times" style="color: rgb(220, 68, 74)"></i>
                                <%}%>
                            </th>
                            <th scope="row">
                                <%=i%>
                            </th>
                            <td>
                                <a href="/coding/showCodingQution/<%=qutions[i]._id%>"><%=qutions[i].title%></a>
                            </td>
                            <td>
                                <%if(qutions[i].submitTime == 0){%>
                                沒有提交紀錄
                                <%}else{%>
                                <%=Math.floor((qutions[i].acceptTime/qutions[i].submitTime) * 100)%>
                                %
                                <%}%>
                            </td>
                            <td>
                                <%if(qutions[i].submitTime == 0){%>
                                沒有提交紀錄
                                <%}else{%>
                                <%if(Math.floor((qutions[i].acceptTime/qutions[i].submitTime) * 100)>60){%>
                                <span class="badge badge-success"
                                    style="color: rgb(245, 245, 245);font-size: 12px">簡單</span>
                                <%}else if(Math.floor((qutions[i].acceptTime/qutions[i].submitTime) * 100)>30){%>
                                <span class="badge badge-warning"
                                    style="color: rgb(245, 245, 245);font-size: 12px">普通</span>
                                <%}else{%>
                                <span class="badge badge-danger"
                                    style="color: rgb(245, 245, 245);font-size: 12px">困難</span>
                                <%}%>
                                <%}%>
                            </td>
                        </tr>
                        <%}%>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col">
        <div style="width: 100%">
            <div>
                <h5>你的活動紀錄</h5>
                <canvas id="myChart" style="width: 100%;height:300px;background: #cccccc"></canvas>
            </div>
        </div>
    </div>
</div>
<script>
    let showQution = function (id) {
        console.log(id);
        window.location = "/coding/showCodingQution/" + id
    }
</script>

<% include layout/footer %>